diff -Ncr old/debian/rules new/debian/rules
*** old/debian/rules	2016-11-12 09:45:13.000000000 +0800
--- new/debian/rules	2016-11-12 09:50:40.000000000 +0800
***************
*** 36,47 ****
  
  config.status.nginx: config.env.nginx
  	cd $(BUILDDIR_nginx) && \
! 	CFLAGS="" ./configure --prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --modules-path=/usr/lib/nginx/modules --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --http-client-body-temp-path=/var/cache/nginx/client_temp --http-proxy-temp-path=/var/cache/nginx/proxy_temp --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp --http-scgi-temp-path=/var/cache/nginx/scgi_temp --user=nginx --group=nginx --with-compat --with-file-aio --with-threads --with-http_addition_module --with-http_auth_request_module --with-http_dav_module --with-http_flv_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_mp4_module --with-http_random_index_module --with-http_realip_module --with-http_secure_link_module --with-http_slice_module --with-http_ssl_module --with-http_stub_status_module --with-http_sub_module --with-http_v2_module --with-mail --with-mail_ssl_module --with-stream --with-stream_realip_module --with-stream_ssl_module --with-stream_ssl_preread_module --with-cc-opt="$(CFLAGS)" --with-ld-opt="$(LDFLAGS)"
  	touch $@
  
  config.status.nginx_debug: config.env.nginx_debug
  	cd $(BUILDDIR_nginx_debug) && \
! 	CFLAGS="" ./configure --prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --modules-path=/usr/lib/nginx/modules --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --http-client-body-temp-path=/var/cache/nginx/client_temp --http-proxy-temp-path=/var/cache/nginx/proxy_temp --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp --http-scgi-temp-path=/var/cache/nginx/scgi_temp --user=nginx --group=nginx --with-compat --with-file-aio --with-threads --with-http_addition_module --with-http_auth_request_module --with-http_dav_module --with-http_flv_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_mp4_module --with-http_random_index_module --with-http_realip_module --with-http_secure_link_module --with-http_slice_module --with-http_ssl_module --with-http_stub_status_module --with-http_sub_module --with-http_v2_module --with-mail --with-mail_ssl_module --with-stream --with-stream_realip_module --with-stream_ssl_module --with-stream_ssl_preread_module --with-cc-opt="$(CFLAGS)" --with-ld-opt="$(LDFLAGS)" --with-debug
  	touch $@
  
  build-arch.%: config.status.%
--- 36,47 ----
  
  config.status.nginx: config.env.nginx
  	cd $(BUILDDIR_nginx) && \
! 	CFLAGS="" ./configure --prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --modules-path=/usr/lib/nginx/modules --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --http-client-body-temp-path=/var/cache/nginx/client_temp --http-proxy-temp-path=/var/cache/nginx/proxy_temp --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp --http-scgi-temp-path=/var/cache/nginx/scgi_temp --user=nginx --group=nginx --with-compat --with-file-aio --with-threads --with-http_addition_module --with-http_auth_request_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_random_index_module --with-http_realip_module --with-http_secure_link_module --with-http_slice_module --with-http_ssl_module --with-http_stub_status_module --with-http_sub_module --with-http_v2_module --with-stream --with-stream_realip_module --with-stream_ssl_module --with-stream_ssl_preread_module --add-dynamic-module=/opt/nginx-module-vts-0.1.11 --with-cc-opt="$(CFLAGS)" --with-ld-opt="$(LDFLAGS)"
  	touch $@
  
  config.status.nginx_debug: config.env.nginx_debug
  	cd $(BUILDDIR_nginx_debug) && \
! 	CFLAGS="" ./configure --prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --modules-path=/usr/lib/nginx/modules --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --http-client-body-temp-path=/var/cache/nginx/client_temp --http-proxy-temp-path=/var/cache/nginx/proxy_temp --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp --http-scgi-temp-path=/var/cache/nginx/scgi_temp --user=nginx --group=nginx --with-compat --with-file-aio --with-threads --with-http_addition_module --with-http_auth_request_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_random_index_module --with-http_realip_module --with-http_secure_link_module --with-http_slice_module --with-http_ssl_module --with-http_stub_status_module --with-http_sub_module --with-http_v2_module --with-stream --with-stream_realip_module --with-stream_ssl_module --with-stream_ssl_preread_module --add-dynamic-module=/opt/nginx-module-vts-0.1.11 --with-cc-opt="$(CFLAGS)" --with-ld-opt="$(LDFLAGS)" --with-debug
  	touch $@
  
  build-arch.%: config.status.%
diff -Ncr old/src/core/nginx.c new/src/core/nginx.c
*** old/src/core/nginx.c	2016-11-12 09:45:13.000000000 +0800
--- new/src/core/nginx.c	2016-11-12 09:50:40.000000000 +0800
***************
*** 374,380 ****
  static void
  ngx_show_version_info()
  {
!     ngx_write_stderr("nginx version: " NGINX_VER_BUILD NGX_LINEFEED);
  
      if (ngx_show_help) {
          ngx_write_stderr(
--- 374,380 ----
  static void
  ngx_show_version_info()
  {
!     ngx_write_stderr("nginx version: " NGINX_VER_BUILD " (" NGINX_VERSION ")" NGX_LINEFEED);
  
      if (ngx_show_help) {
          ngx_write_stderr(
diff -Ncr old/src/core/nginx.h new/src/core/nginx.h
*** old/src/core/nginx.h	2016-11-12 09:45:13.000000000 +0800
--- new/src/core/nginx.h	2016-11-12 09:51:36.000000000 +0800
***************
*** 11,17 ****
  
  #define nginx_version      1011005
  #define NGINX_VERSION      "1.11.5"
! #define NGINX_VER          "nginx/" NGINX_VERSION
  
  #ifdef NGX_BUILD
  #define NGINX_VER_BUILD    NGINX_VER " (" NGX_BUILD ")"
--- 11,17 ----
  
  #define nginx_version      1011005
  #define NGINX_VERSION      "1.11.5"
! #define NGINX_VER          "CGH"
  
  #ifdef NGX_BUILD
  #define NGINX_VER_BUILD    NGINX_VER " (" NGX_BUILD ")"
diff -Ncr old/src/http/ngx_http_header_filter_module.c new/src/http/ngx_http_header_filter_module.c
*** old/src/http/ngx_http_header_filter_module.c	2016-11-12 09:45:13.000000000 +0800
--- new/src/http/ngx_http_header_filter_module.c	2016-11-12 09:52:06.000000000 +0800
***************
*** 46,52 ****
  };
  
  
! static char ngx_http_server_string[] = "Server: nginx" CRLF;
  static char ngx_http_server_full_string[] = "Server: " NGINX_VER CRLF;
  
  
--- 46,52 ----
  };
  
  
! static char ngx_http_server_string[] = "Server: CGH" CRLF;
  static char ngx_http_server_full_string[] = "Server: " NGINX_VER CRLF;
  
  
